---
import type { Locale } from '../../../i18n/locales';
interface Props { locale: Locale; }
const { locale } = Astro.props;
---

<h1>Il Vostro Primo Accesso</h1>
<p class="subtitle">Create un account amministratore, comprendete il flusso SSO e accedete a tutte le app.</p>

<h2><span class="step-number">1</span> Creare l'Amministratore Authentik</h2>
<p>Aprite <a href="http://auth.localhost/if/flow/initial-setup/">http://auth.localhost/if/flow/initial-setup/</a> nel vostro browser.</p>
<p>Vedrete un modulo di configurazione iniziale. Create il vostro account amministratore con una password robusta. Questo √® l'unico passaggio manuale dell'intera configurazione.</p>

<div class="callout callout-warn">
  <strong>‚ö†Ô∏è Salvate queste credenziali</strong>
  Questo √® l'account amministratore di Authentik. Se lo perdete, dovrete effettuare un reset tramite il database. Considerate di salvarlo in Vaultwarden una volta avviato!
</div>

<h2><span class="step-number">2</span> Esplorare il Pannello di Amministrazione</h2>
<p>Dopo aver creato il vostro account, andate su <a href="http://auth.localhost/if/admin/">http://auth.localhost/if/admin/</a>. Vedrete:</p>
<ul>
  <li>Applications ‚Äî tutte le 10 app sono preconfigurate (tramite blueprint)</li>
  <li>Providers ‚Äî 7 OIDC + 1 SAML provider, tutti collegati</li>
  <li>Users ‚Äî solo il vostro account amministratore per ora</li>
  <li>Groups ‚Äî pronti per creare la struttura della vostra azienda</li>
</ul>

<h2><span class="step-number">3</span> Accedere a un'App</h2>
<p>Andate su qualsiasi URL delle app, ad esempio <a href="http://docs.localhost">docs.localhost</a> (Outline). Vedrete una pagina di accesso con un pulsante SSO:</p>
<ul>
  <li>Outline ‚Üí "Continue with OIDC"</li>
  <li>Mattermost ‚Üí "GitLab" (in realt√† √® Authentik ‚Äî Mattermost chiama tutti gli OAuth2 "GitLab")</li>
  <li>Gitea ‚Üí "Sign in with Authentik"</li>
  <li>Seafile ‚Üí "Single Sign-On"</li>
  <li>Kimai ‚Üí "Login with Authentik"</li>
  <li>Vikunja ‚Üí "Authentik"</li>
  <li>Vaultwarden ‚Üí "Enterprise Single Sign-On" (inserite qualsiasi email ‚Üí SSO reindirizza ad Authentik)</li>
</ul>
<p>Cliccate sul pulsante SSO ‚Üí venite reindirizzati ad Authentik ‚Üí accedete ‚Üí venite reindirizzati all'app, con accesso effettuato. Questo √® il flusso per tutte le app.</p>

<div class="callout callout-tip">
  <strong>üí° Provisioning automatico</strong>
  Non √® necessario creare account in ogni app. La prima volta che accedete tramite SSO, un account locale viene creato automaticamente nell'app con la vostra email e nome visualizzato di Authentik.
</div>

<h2><span class="step-number">4</span> Stalwart Mail</h2>
<p>Stalwart √® leggermente diverso ‚Äî le caselle di posta vengono create automaticamente al primo accesso SSO (provisioning JIT). Dopo aver effettuato l'accesso su <a href="http://mail.localhost">mail.localhost</a>, la vostra casella di posta √® pronta per IMAP/SMTP su:</p>
<ul>
  <li>IMAP: <code>mail.localhost:143</code></li>
  <li>SMTP: <code>mail.localhost:587</code></li>
  <li>Username: la vostra email Authentik</li>
</ul>

<h2><span class="step-number">5</span> Prossimi Passi</h2>
<p>Ora che potete accedere, il passo successivo √® configurare la struttura dei gruppi della vostra azienda:</p>
<ul>
  <li><a href="/docs/add-users">Aggiungere Utenti e Gruppi</a> ‚Äî create utenti reali e assegnateli ai gruppi</li>
  <li><a href="/docs/rbac">RBAC e Mappatura dei Gruppi</a> ‚Äî comprendete come i gruppi si traducono in permessi per ogni app</li>
</ul>
