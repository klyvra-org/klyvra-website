---
import type { Locale } from '../../../i18n/locales';
interface Props { locale: Locale; }
const { locale } = Astro.props;
---

<h1>O Seu Primeiro Login</h1>
<p class="subtitle">Crie uma conta de administrador, compreenda o fluxo SSO e aceda a todas as aplica√ß√µes.</p>

<h2><span class="step-number">1</span> Criar o Administrador do Authentik</h2>
<p>Abra <a href="http://auth.localhost/if/flow/initial-setup/">http://auth.localhost/if/flow/initial-setup/</a> no seu browser.</p>
<p>Ver√° um formul√°rio de configura√ß√£o inicial. Crie a sua conta de administrador com uma palavra-passe forte. Este √© o √∫nico passo manual em toda a configura√ß√£o.</p>

<div class="callout callout-warn">
  <strong>‚ö†Ô∏è Guarde estas credenciais</strong>
  Esta √© a conta de administrador do Authentik. Se a perder, ter√° de fazer reset atrav√©s da base de dados. Considere guard√°-la no Vaultwarden assim que estiver a funcionar!
</div>

<h2><span class="step-number">2</span> Explorar o Painel de Administra√ß√£o</h2>
<p>Ap√≥s criar a sua conta, aceda a <a href="http://auth.localhost/if/admin/">http://auth.localhost/if/admin/</a>. Ver√°:</p>
<ul>
  <li>Applications ‚Äî as 10 aplica√ß√µes est√£o pr√©-configuradas (feito pelos blueprints)</li>
  <li>Providers ‚Äî 7 OIDC + 1 SAML provider, todos configurados</li>
  <li>Users ‚Äî apenas a sua conta de administrador por agora</li>
  <li>Groups ‚Äî pronto para criar a estrutura da sua empresa</li>
</ul>

<h2><span class="step-number">3</span> Aceder a uma Aplica√ß√£o</h2>
<p>Aceda ao URL de qualquer aplica√ß√£o, por exemplo <a href="http://docs.localhost">docs.localhost</a> (Outline). Ver√° uma p√°gina de login com um bot√£o SSO:</p>
<ul>
  <li>Outline ‚Üí "Continue with OIDC"</li>
  <li>Mattermost ‚Üí "GitLab" (√© na verdade o Authentik ‚Äî o Mattermost chama "GitLab" a todos os OAuth2)</li>
  <li>Gitea ‚Üí "Sign in with Authentik"</li>
  <li>Seafile ‚Üí "Single Sign-On"</li>
  <li>Kimai ‚Üí "Login with Authentik"</li>
  <li>Vikunja ‚Üí "Authentik"</li>
  <li>Vaultwarden ‚Üí "Enterprise Single Sign-On" (introduza qualquer e-mail ‚Üí SSO redireciona para o Authentik)</li>
</ul>
<p>Clique no bot√£o SSO ‚Üí √© redirecionado para o Authentik ‚Üí fa√ßa login ‚Üí redirecionado de volta para a aplica√ß√£o, autenticado. Este √© o fluxo para todas as aplica√ß√µes.</p>

<div class="callout callout-tip">
  <strong>üí° Provisionamento autom√°tico</strong>
  N√£o precisa de criar contas em cada aplica√ß√£o. Na primeira vez que faz login via SSO, uma conta local √© automaticamente criada nessa aplica√ß√£o com o seu e-mail e nome de exibi√ß√£o do Authentik.
</div>

<h2><span class="step-number">4</span> Stalwart Mail</h2>
<p>O Stalwart √© ligeiramente diferente ‚Äî as caixas de correio s√£o criadas automaticamente no primeiro login SSO (provisionamento JIT). Ap√≥s fazer login em <a href="http://mail.localhost">mail.localhost</a>, a sua caixa de correio est√° pronta para IMAP/SMTP em:</p>
<ul>
  <li>IMAP: <code>mail.localhost:143</code></li>
  <li>SMTP: <code>mail.localhost:587</code></li>
  <li>Username: o seu e-mail do Authentik</li>
</ul>

<h2><span class="step-number">5</span> Pr√≥ximos Passos</h2>
<p>Agora que consegue fazer login, o pr√≥ximo passo √© configurar a estrutura de grupos da sua empresa:</p>
<ul>
  <li><a href="/docs/add-users">Adicionar Utilizadores e Grupos</a> ‚Äî crie utilizadores reais e atribua-os a grupos</li>
  <li><a href="/docs/rbac">RBAC e Mapeamento de Grupos</a> ‚Äî compreenda como os grupos se traduzem em permiss√µes por aplica√ß√£o</li>
</ul>
