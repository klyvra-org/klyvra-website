---
import type { Locale } from '../../../i18n/locales';
interface Props { locale: Locale; }
const { locale } = Astro.props;
---

<h1>A√±adir Usuarios y Grupos</h1>
<p class="subtitle">Paso a paso: cree la estructura de usuarios de su empresa en Authentik.</p>

<h2><span class="step-number">1</span> Planifique sus Grupos</h2>
<p>Piense en las funciones laborales de su empresa. Cada grupo se mapea a un conjunto de permisos en todas las aplicaciones. Ejemplos comunes:</p>
<table>
  <tr><th>Grupo</th><th>Qui√©n lo integra</th><th>Qu√© obtienen</th></tr>
  <tr><td><code>engineering</code></td><td>Desarrolladores, DevOps</td><td>Acceso completo al c√≥digo, wiki lectura/escritura, tableros de tareas</td></tr>
  <tr><td><code>management</code></td><td>L√≠deres de equipo, directivos</td><td>Administraci√≥n de wiki, aprobaci√≥n de hojas de horas, c√≥digo en solo lectura</td></tr>
  <tr><td><code>hr</code></td><td>Equipo de RRHH</td><td>Administraci√≥n de wiki, aprobaci√≥n de hojas de horas, SIN acceso al c√≥digo</td></tr>
  <tr><td><code>design</code></td><td>Dise√±adores</td><td>Acceso a archivos, wiki lectura/escritura, tableros de tareas</td></tr>
</table>

<h2><span class="step-number">2</span> Cree Grupos en Authentik</h2>
<ol>
  <li>Abra el panel de administraci√≥n de Authentik: <a href="http://auth.localhost/if/admin/#/identity/groups">auth.localhost/if/admin ‚Üí Directory ‚Üí Groups</a></li>
  <li>Haga clic en <strong>Create</strong></li>
  <li>Introduzca el nombre del grupo (por ejemplo, <code>engineering</code>)</li>
  <li>Haga clic en <strong>Create</strong></li>
</ol>
<p>En cuesti√≥n de segundos, los 4 adapters reciben un webhook y crean los recursos correspondientes:</p>
<ul>
  <li>Gitea: organizaci√≥n <code>engineering</code></li>
  <li>Mattermost: canal <code>engineering</code></li>
  <li>Outline: grupo <code>engineering</code></li>
  <li>Stalwart: lista de correo <code>engineering@yourdomain.com</code></li>
</ul>

<h2><span class="step-number">3</span> Cree Usuarios</h2>
<ol>
  <li>Vaya a <strong>Directory ‚Üí Users</strong> en el panel de administraci√≥n de Authentik</li>
  <li>Haga clic en <strong>Create</strong></li>
  <li>Complete: nombre de usuario, nombre para mostrar, correo electr√≥nico</li>
  <li>Establezca una contrase√±a temporal (el usuario puede cambiarla en el primer inicio de sesi√≥n)</li>
  <li>Haga clic en <strong>Create</strong></li>
</ol>

<h2><span class="step-number">4</span> A√±ada Usuarios a Grupos</h2>
<ol>
  <li>Abra el usuario que acaba de crear</li>
  <li>Vaya a la pesta√±a <strong>Groups</strong></li>
  <li>Haga clic en <strong>Add to existing group</strong></li>
  <li>Seleccione el/los grupo(s) a los que pertenece este usuario</li>
</ol>

<div class="callout callout-tip">
  <strong>üí° Qu√© sucede a continuaci√≥n</strong>
  Authentik env√≠a un webhook. Si el usuario ya ha iniciado sesi√≥n en una aplicaci√≥n, se le a√±ade inmediatamente al grupo/canal/organizaci√≥n. Si a√∫n no ha iniciado sesi√≥n, la membres√≠a se pone en cola y se aplica autom√°ticamente en su primer inicio de sesi√≥n.
</div>

<h2><span class="step-number">5</span> Indique a los Usuarios que Inicien Sesi√≥n</h2>
<p>Comparta las URLs de las aplicaciones con sus usuarios. En el primer inicio de sesi√≥n en cualquier aplicaci√≥n v√≠a SSO:</p>
<ol>
  <li>Se crea autom√°ticamente una cuenta local en la aplicaci√≥n</li>
  <li>Se aplican todas las membres√≠as de grupo pendientes</li>
  <li>Si Stalwart est√° habilitado, se aprovisiona un buz√≥n autom√°ticamente</li>
  <li>Si la incorporaci√≥n de Mattermost est√° habilitada, recibir√°n un mensaje de bienvenida con enlaces de comunicaci√≥n</li>
</ol>
